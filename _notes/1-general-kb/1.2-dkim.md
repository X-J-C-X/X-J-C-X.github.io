---
tags: [kb, dkim, authentication]
created: 2025-01-19
status: complete
---

# 1.2 DKIM (DomainKeys Identified Mail)

## Overview

DKIM adds digital signatures to verify email authenticity.

## How It Works

1. Sender signs with private key
2. Public key published in DNS
3. Receiver retrieves public key
4. Verifies signature

## DNS Record

```dns
selector._domainkey.example.com IN TXT "v=DKIM1; k=rsa; p=MIGfMA0..."
```

## Generate Keys

```bash
# Generate private key
openssl genrsa -out dkim_private.pem 2048

# Extract public key
openssl rsa -in dkim_private.pem -pubout -out dkim_public.pem
```

## Testing

```bash
dig selector._domainkey.example.com TXT
```

## Common Issues

| Issue | Solution |
|-------|----------|
| Signature failed | Check key match |
| DNS not found | Verify selector |
| Body hash mismatch | Check for modifications |

## Best Practices

✅ Use 2048-bit keys minimum
✅ Rotate keys every 6-12 months
✅ Use descriptive selectors

## Related

- [[1.1-spf|1.1 SPF]]
- [[1.3-dmarc|1.3 DMARC]]

---

**Tags:** #dkim #authentication
